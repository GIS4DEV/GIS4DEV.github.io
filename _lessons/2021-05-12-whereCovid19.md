---
layout: lesson
title: Where COVID-19 Analysis
purpose: "study the research paper and implementation of a COVID-19 accessibility analysis"
---

Wednesday, May 12

## Lecture

Prior to lecture, please read:

Kang, J. Y., A. Michels, F. Lyu, Shaohua Wang, N. Agbodo, V. L. Freeman, and Shaowen Wang. 2020. Rapidly measuring spatial accessibility of COVID-19 healthcare resources: a case study of Illinois, USA. International Journal of Health Geographics 19 (1):1â€“17. DOI:[10.1186/s12942-020-00229-x](https://doi.org/10.1186/s12942-020-00229-x).

To the best of your ability, draw or outline a workflow for this analysis. You may work in partners or small groups on this task.

- The paper describes the analysis and cyberinfrastructure behind the spatial access component of this [Where COVID-19 dashboard for Illinois](https://wherecovid19.cigi.illinois.edu/spatialAccess.html)
- Derrick Burt and Kufre Udoh completed a [reproduction and replication](https://cybergisxhub.cigi.illinois.edu/blog/middlebury-college-students-reproduce-and-replicate-covid-19-health-care-resource-accessibility-study/) of the study
- Since that time, the authors have continued to update the code in the [Jupyter notebook for the study](https://cybergisxhub.cigi.illinois.edu/notebook/rapidly-measuring-spatial-accessibility-of-covid-19-healthcare-resources-a-case-study-of-illinois-usa/) on CyberGISX
- [CyberGISX](https://cybergisx.cigi.illinois.edu) is a geospatial cyberinfrastructure project at the [CyberGIS Center for Advanced Digital and Spatial Studies](https://cybergis.illinois.edu/) at the University of Illinois at Urbana-Champaign, funded by the National Science Foundation and directed by Dr. Shaowen Wang. It is set up to run [Juypter notebooks](https://jupyter.org/) using [Python](https://www.python.org/) with a suite of pre-installed packages for data science and spatial analysis.
- CyberGISX is a prime example of [geospatial cyberinfrastructure](https://gistbok.ucgis.org/bok-topics/cyberinfrastructure) 

## Sign Up for CyberGISX Access

- go to [CyberGISX Login](https://cybergisx.cigi.illinois.edu/hub/login)
- [Create an account](https://cybergisxhub.cigi.illinois.edu/registration/)
- Full name: you know who you are
- Organizational Email: use your `@middlebury.edu` address
- Organization: Middlebury College
- Github Username: your GitHub user name
- Personal Webiste Link: your `.github.io` GitHub pages address
- Role: student
- What class: `geog 0323 spring 2021 open source GIScience`

## Lab

The goal of this lab is to get accustomed to working in a cyberinfrastructure environment with Python, Jupyter notebooks, and GitHub integration. We will do so with the Jupyter notebook published to accompany [Kang et al (2020)](https://doi.org/10.1186/s12942-020-00229-x). The notebook has been published on [CyberGISX](https://cybergisxhub.cigi.illinois.edu/notebook/rapidly-measuring-spatial-accessibility-of-covid-19-healthcare-resources-a-case-study-of-illinois-usa/) and maintained in a [GitHub repository](https://github.com/cybergis/COVID-19AccessibilityNotebook)

- Use the [Hour of CI Gateway Lesson](2021-05-10-hourCI) to learn how Jupyter notebooks work and how to use them.
- Use the instructions below to learn how to import a project into CyberGISX and push your changes to GitHub

By the end of lab, you should have:
- executed the complete notebook
- taken notes and added comments to the code on CyberGISX to understand how the code relates to the publication (i.e. which blocks of code implement which sections of the paper?)
- pushed your changed (annotated) version of the notebook back to your own GitHub repository

Advice:
- Use the [Hour of CI Gateway Lesson](2021-05-10-hourCI) to learn how Jupyter notebooks work and how to use them.
- Use the instructions below to learn how to import a project into CyberGISX and push your changes to GitHub.
- Feel free to team up, but make sure you also run the code in your own account simultaneously.

## Integrating GitHub with CyberGISX

Below I will outline three workflows:
1. Pushing a CyberGISX project to a GitHub repository
1. Cloning a GitHub repository into CyberGISX
1. Making changes on CyberGISX and pushing them to GitHub

### Pushing a CyberGISX project to a GitHub repository

- You can create a project in CyberGISX by copying an existing notebook. E.g. the COVID-19 notebooks are indexed [here](https://cybergisxhub.cigi.illinois.edu/wherecovid-19/) and the Kang et al (2020) notebook is [here](https://cybergisxhub.cigi.illinois.edu/notebook/rapidly-measuring-spatial-accessibility-of-covid-19-healthcare-resources-a-case-study-of-illinois-usa/)
- Each notebook features an `Open with CyberGISX` button, which will copy the notebook into your logged-in [CyberGISX account](https://cybergisxhub.cigi.illinois.edu/registration). **Beware:** if you have already copied the notebook once, you will get inconsistent results with this copy feature. If you must keep two versions of the same notebook, then rename the folder containing the first before making a second copy.
- Go to your [CyberGISX home page](https://cybergisx.cigi.illinois.edu) 
- You should see a folder with the notebook name you just copied, e.g. `COVID-19AccessibilityNotebook` containing the `.ipynb` Jupyter notebook and any required data.

Ok, the notebook has been copied into your CyberGISX account. Now you need a GitHub repository for this project.

- Go to [GitHub.com](https://github.com) and start creating a new repository with an easy-to-type and relevant name, e.g. `wherecovid`
- Copy the new repository's URL. e.g. mine was `https://github.com/josephholler/wherecovid.git`

Now the harder part: connecting the CyberGISX notebook to your GitHub repository using the Linux terminal and [command line Git](https://git-scm.com/book/en/v2/Getting-Started-The-Command-Line). [Linux](https://www.linux.org/) is an open-source operating system and its file and folder names are case-sensitive.

- In the top-right corner, go to `new` and `terminal` to open the Linux command-line terminal. 
- Follow the following commands:
- `ls`  list files and folders
- `cd work`  change the directory to `work`
- `ls`
- `cd COVID-19AccessibilityNotebook`  change the directory to the COVID-19 Notebook
- `git init`  initialize git repository. One exists already, because all of the Git files were copied from the [original repository](https://github.com/cybergis/COVID-19AccessibilityNotebook)
- `git add .`  add all the files to the repository
- `git config --global user.email "josephh@middlebury.edu"` configure your GitHub user name
- `git config --global user.name "josephholler"` configure your GitHub email
- `git commit -m "first commit"` commit the changes, where the description of changes is in quotes. `-m` is for `main branch`.
- `git remote get-url origin`  Check the existing remote connection. This notebook has already been a Git repository, so it already has a remote connection to the [original repository](https://github.com/cybergis/COVID-19AccessibilityNotebook)
- `get remote set-url origin https:///github.com/josephholler/wherecovid` Change the remote connection to your own repository
- `git remote -v (verify origin)` verify that the change worked
- `git push origin` push your changes to github! The command line will ask for your username and password.

### Cloning a GitHub repository into CyberGISX

- **Fork** a python notebook repository into your own GitHub account, e.g. the [original repository](https://github.com/cybergis/COVID-19AccessibilityNotebook) for the Kang et al (2020) paper
- Rename the respository if the repository name conflicts with any folders in your CyberGISX server `work` directory
- In the top-right corner, go to `new` and `terminal` to open the Linux command-line terminal. 
- Follow the following commands:
- `ls`  list files and folders
- `cd work`  change the directory to `work`
- `ls`
- `git clone https://github.com/user-org/repository` where `user-org` is the user or organization name and `repository` is the repository name. In other words, you need the `URL` of the repository you want to clone.

### Making changes on CyberGISX and pushing them to GitHub

- Make a *discrete set of changes* to your project in the form of (re)organizing folders or files, creating new files, or editing `.ipybn` notebooks and saving them.
- Open the terminal
- `cd` to change directory to the root folder of your project
- `git add .` to add changes from all files or `git add jupyter.ipynb` to add a specific file's changes to the commit, with the example of a Jupyter notebook eponymously named `jupyter`
- you *may* need to run/repeat the following two configuration steps from above in order to commit and push changes
- `git config --global user.email "josephh@middlebury.edu"` configure your GitHub user name
- `git config --global user.name "josephholler"` configure your GitHub email
- `git commit -m "commit scription"` to commit the staged changes, hopefully with a better description than my example
- `git push origin` to push the commit to GitHub

### Git Command References

- [Importing projects to GitHub with command line](https://docs.github.com/en/github/importing-your-projects-to-github/adding-an-existing-project-to-github-using-the-command-line)
- [Git Basics](https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository)
